{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/User/Desktop/prueba despliegue/entrega3-web/front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"C:/Users/User/Desktop/prueba despliegue/entrega3-web/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect,useState}from\"react\";import GoogleMapReact from\"google-map-react\";// import MarkerExample from './marker_example.jsx';\nvar AnyReactComponent=function AnyReactComponent(_ref){var text=_ref.text;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker marker fa-2x\"})});};var SimpleMap=function SimpleMap(){var markers=[];var items=[];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mapMarkers=_useState2[0],setMapMarkers=_useState2[1];/**\r\n   * constante con la llave para Google maps\r\n   */var mapsKey=\"AIzaSyDWDt2-VHy5BZHqJKI5c6tmcaNJVrm6U8c\";var _useState3=useState({lat:4.539202,lng:-74.109463}),_useState4=_slicedToArray(_useState3,2),center=_useState4[0],setCenter=_useState4[1];var defaultProps={zoom:14};navigator.geolocation.getCurrentPosition(function(position){var newCenter={lat:position.coords.latitude,lng:position.coords.longitude};setCenter(newCenter);});for(var i=0;i<markers.length;i++){items.push(/*#__PURE__*/_jsx(AnyReactComponent,{lat:markers[i].lat,lng:markers[i].lng,text:markers[i].text}));}function convertItems(array){for(var i=0;i<array.length;i++){items.push(/*#__PURE__*/_jsx(AnyReactComponent,{lat:array[i].lat,lng:array[i].lng,text:array[i].text}));}setMapMarkers(items);}useEffect(function(){var newMarkers=fetch(\"api/locations/\").then(function(res){res.json().then(function(json){var newMarkers=[];console.log(json);var _iterator=_createForOfIteratorHelper(json),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var marker=_step.value;var newMaker={text:marker.nombre,lat:marker.latitud,lng:marker.longitud};newMarkers.push(newMaker);}}catch(err){_iterator.e(err);}finally{_iterator.f();}items=[];convertItems(newMarkers);});});},[]);return/*#__PURE__*/ (// Important! Always set the container height explicitly\n_jsxs(\"div\",{className:\"row justify-content-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Encuentra todas las donaciones cercanas a las que puedes realizar esta donaci\\xF3n\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"500px\",width:\"60%\"},children:/*#__PURE__*/_jsx(GoogleMapReact,{bootstrapURLKeys:{key:mapsKey},defaultCenter:center,defaultZoom:defaultProps.zoom,children:mapMarkers})})]}));};export default SimpleMap;","map":{"version":3,"sources":["C:/Users/User/Desktop/prueba despliegue/entrega3-web/front/src/components/SimpleMap.js"],"names":["React","useEffect","useState","GoogleMapReact","AnyReactComponent","text","SimpleMap","markers","items","mapMarkers","setMapMarkers","mapsKey","lat","lng","center","setCenter","defaultProps","zoom","navigator","geolocation","getCurrentPosition","position","newCenter","coords","latitude","longitude","i","length","push","convertItems","array","newMarkers","fetch","then","res","json","console","log","marker","newMaker","nombre","latitud","longitud","height","width","key"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\n// import MarkerExample from './marker_example.jsx';\r\n\r\nconst AnyReactComponent = ({ text }) => (\r\n  <div>\r\n    <i className=\"fas fa-map-marker marker fa-2x\"></i>\r\n  </div>\r\n);\r\n\r\nconst SimpleMap = () => {\r\n  const markers = [];\r\n\r\n  let items = [];\r\n\r\n  const [mapMarkers, setMapMarkers] = useState([]);\r\n\r\n  /**\r\n   * constante con la llave para Google maps\r\n   */\r\n\r\n  const mapsKey = \"AIzaSyDWDt2-VHy5BZHqJKI5c6tmcaNJVrm6U8c\";\r\n\r\n  const [center, setCenter] = useState({ lat: 4.539202, lng: -74.109463 });\r\n\r\n  const defaultProps = {\r\n    zoom: 14,\r\n  };\r\n\r\n  navigator.geolocation.getCurrentPosition((position) => {\r\n    let newCenter = {\r\n      lat: position.coords.latitude,\r\n      lng: position.coords.longitude,\r\n    };\r\n    setCenter(newCenter);\r\n  });\r\n\r\n  for (var i = 0; i < markers.length; i++) {\r\n    items.push(\r\n      <AnyReactComponent\r\n        lat={markers[i].lat}\r\n        lng={markers[i].lng}\r\n        text={markers[i].text}\r\n      />\r\n    );\r\n  }\r\n\r\n  function convertItems(array) {\r\n    for (var i = 0; i < array.length; i++) {\r\n      items.push(\r\n        <AnyReactComponent\r\n          lat={array[i].lat}\r\n          lng={array[i].lng}\r\n          text={array[i].text}\r\n        />\r\n      );\r\n    }\r\n    setMapMarkers(items);\r\n  }\r\n\r\n  useEffect(() => {\r\n    let newMarkers = fetch(\"api/locations/\").then((res) => {\r\n      res.json().then((json) => {\r\n        let newMarkers = [];\r\n        console.log(json);\r\n        for (let marker of json) {\r\n          let newMaker = {\r\n            text: marker.nombre,\r\n            lat: marker.latitud,\r\n            lng: marker.longitud,\r\n          };\r\n          newMarkers.push(newMaker);\r\n        }\r\n        items = [];\r\n        convertItems(newMarkers);\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    // Important! Always set the container height explicitly\r\n    <div className=\"row justify-content-center\">\r\n      <h3>\r\n        Encuentra todas las donaciones cercanas a las que puedes realizar esta\r\n        donaci√≥n\r\n      </h3>\r\n      <div style={{ height: \"500px\", width: \"60%\" }}>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: mapsKey }}\r\n          defaultCenter={center}\r\n          defaultZoom={defaultProps.zoom}\r\n        >\r\n          {mapMarkers}\r\n        </GoogleMapReact>\r\n      </div>\r\n    </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default SimpleMap;\r\n"]},"metadata":{},"sourceType":"module"}